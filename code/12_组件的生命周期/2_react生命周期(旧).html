<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>2_react生命周期(旧)</title>
</head>
<body>
<!-- 准备好一个“容器” -->
<div id="test"></div>

<!-- 引入react核心库 -->
<script type="text/javascript" src="../js/react.development.js"></script>
<!-- 引入react-dom，用于支持react操作DOM -->
<script type="text/javascript" src="../js/react-dom.development.js"></script>
<!-- 引入babel，用于将jsx转为js -->
<script type="text/javascript" src="../js/babel.min.js"></script>

<script type="text/babel">

    // 定义组件
    class Count extends React.Component {


        // 初始化状态
        state = {count: 0}
        // 这里count 和类名 Count 没关系

        //加1按钮的回调
        add = () => {
            // 获取原来的状态
            const {count} = this.state;
            // 更新状态
            this.setState({count: count + 1})
        };

        render() {
            const {count} = this.state;
            return (
                <div>
                    <h2>当前求和为:{count}</h2>
                    <button onClick={this.add}>点我+1</button>
                </div>
            )
        }
    }

    //渲染组件
    ReactDOM.render(<Count/>, document.getElementById('test'))
</script>
</body>
</html>
